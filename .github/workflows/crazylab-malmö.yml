name: Crazy Stab Lab üó°Ô∏è

# Controls when the action will run.
on:
  workflow_dispatch
jobs:
  testsuite_at_crazylab:
    runs-on: self-hosted
    container: python
    env:
      CRAZY_SITE: crazylab-malm√∂
    steps:
      - name: Install pytest
        run: pip3 install pytest
      - name: Install Crazyflie python library
        run: pip3 install git+https://github.com/bitcraze/crazyflie-lib-python.git@master
      - name: Check out sources
        uses: actions/checkout@v2
      - name: Run test suite
        run: pytest --verbose --junit-xml $CRAZY_SITE-$(date +%s).xml
